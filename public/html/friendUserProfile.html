<!--
//Copyright {2016} {NIIT Limited, Wipro Limited}
//
//   Licensed under the Apache License, Version 2.0 (the "License");
//   you may not use this file except in compliance with the License.
//   You may obtain a copy of the License at
//
//       http://www.apache.org/licenses/LICENSE-2.0
//
//   Unless required by applicable law or agreed to in writing, software
//   distributed under the License is distributed on an "AS IS" BASIS,
//   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//   See the License for the specific language governing permissions and
//   limitations under the License.
//
//   Name of Developers  Raghav Goel, Kshitij Jain, Lakshay Bansal, Ayush Jain, Saurabh Gupta, Akshay Meher
//
-->
<div ng-if="friendUser" class="container" id="main">

	<div class="row user">
		<div class="col-xs-offset-1 col-xs-5 col-sm-offset-0	col-sm-2">
			<img ng-src="{{friendUser.imageLink}}"  width="120px" height="120px"  class="img-circle img-responsive pull-left">
		</div>
		<div class="col-xs-6 col-sm-4 usermiddle">
			<h4>{{friendUser.name}},
				{{friendUser.age}}</h4>
				<h5>{{friendUser.badge}}</h5>
				<h6 id="country">{{friendUser.country}}</h6>

				<div >
					<button class="play-now-button btn btn-success" ng-disabled="friendUser.disableButton" ng-click="sendFriendRequest(friendUser)">{{friendUser.buttonText}}</button>
					<button class="play-now-button btn btn-warning" ng-show ="friendUser.acceptanceState == 1" ng-click="Unfriend(friendUser)">Unfriend</button>
				</div>
			</div>

			<div class="col-xs-12 col-sm-6" id="GamesInfo">
				<div class="row info">
					<div class=" col-xs-4" id="games">
						<span class="glyphicon glyphicon-tower glyph"></span>
						<p>Games</br>{{friendUser.totalGames}}
						</p>
					</div>
					<div class="col-xs-4" id="win">
						<span class="glyphicon glyphicon-thumbs-up glyph"></span>
						<p>Wins</br>{{friendUser.wins}}
						</p>
					</div>
					<div class="col-xs-4" id="winpercentage">
						<span class="glyphicon glyphicon-stats glyph"></span>
						<p>Win%<br>{{friendUser.wins/friendUser.totalGames*100 | number : 2}}%
						</p>
					</div>
				</div>
			</div>
		</div>

		<div class="row sectionHeader">Favourite Topics
		</div>
		<div class="row topic-info" ng-hide="friendUser.topicsFollowed.length > 0">
			You have not followed any topics as yet. How about picking some topics from below.
		</div>
		<div class="row topic-info" ng-show="friendUser.topicsFollowed.length > 0">
			<div class="topicsholder"  ng-repeat="topic in friendUser.topicsFollowed|limitTo:a|orderBy:'-level'">

				<div class="topic-panel panel panel-default">
					<div class="panel-body content">

						<a><img ng-src="{{topic.topicId.topicIcon}}" ng-click="showFollowedTopic(topic.topicId._id)"></a>
						<span class="badge">{{topic.level}}</span>

					</div>

					<div class="panel-footer">
						<p>{{topic.topicId.topicName}}</p>
						<span class="win-loss">
							<span class="wins">{{topic.gamesWon}}</span> /<span class= "played"> {{topic.gamesPlayed}} </span>
						</span>
					</div>
				</div>
			</div><!-- end topicsholder-->

			<div class="col-xs-3 topicsholder" ng-if="topicsFollowed.length>11">
				<div>
					<button ng-if="topicsFollowed.length>=8" ng-click="seeHide(topicsFollowed.length)"><img ng-src="{{btnImg}}" class="img-rounded"></button>
				</div>
			</div>

		</div> <!-- end topicinfo row -->

		<section>
			<div class="row sectionHeader">Friends</div>
			<div class="row topic-info" ng-show="friendUser.friends.length > 0">
				<div class="friendList panel-body content td col-xs-4" ng-repeat="friend in friendUser.friends">
					<a><p class="friendName">{{friend.userId}}</p><img class="img-circle img-responsive pull-left" width="120px" height="120px" ng-src="{{friend.imageLink}}" ng-click="viewUserProfile(friend.userId)"></a>
				</div>
			</div> <!-- end friendsinfo row -->


		</div><!-- end container -->


	</section><!--  End friends Section -->
